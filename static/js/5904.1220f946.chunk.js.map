{"version":3,"file":"static/js/5904.1220f946.chunk.js","mappings":"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","sources":["webpack://middle-way-copy/./src/components/Shared/Pagination/Pagination.module.scss?dfd1","components/Shared/Pagination/Pagination.jsx","webpack://middle-way-copy/./src/components/Admin/AppointmentsPage/AppointmentsList/AppointmentsList.module.scss?2744","components/Admin/AppointmentsPage/AppointmentsList/AppointmentsList.jsx","webpack://middle-way-copy/./src/components/Admin/AppointmentsPage/AppointmentsPage.module.scss?8180","components/Admin/AppointmentsPage/AppointmentsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"paginationSection\":\"Pagination_paginationSection__1F1CP\",\"pagesSet\":\"Pagination_pagesSet__2tGzL\",\"pageBox\":\"Pagination_pageBox__Ti6uC\",\"active\":\"Pagination_active__yaPsQ\",\"btnLeft\":\"Pagination_btnLeft__Gnp4s\",\"btnRight\":\"Pagination_btnRight__O85qW\"};","import React from 'react';\n\nimport s from './Pagination.module.scss';\n\nconst Pagination = ({ totalPages, currentPage, onPageChange }) => {\n  const getPageNumbers = () => {\n    const pageNumbers = [];\n    const displayRange = 2;\n\n    let startPage = Math.max(1, currentPage - displayRange);\n    let endPage = Math.min(totalPages, currentPage + displayRange);\n\n    if (currentPage <= displayRange) {\n      endPage = Math.min(displayRange * 2 + 1, totalPages);\n    }\n\n    if (currentPage >= totalPages - displayRange) {\n      startPage = Math.max(totalPages - displayRange * 2, 1);\n    }\n\n    for (let page = startPage; page <= endPage; page++) {\n      pageNumbers.push(page);\n    }\n\n    return pageNumbers;\n  };\n\n  return (\n    <div className={s.paginationSection}>\n      <button\n        className={`${s.btnLeft} ${s.pageBox}`}\n        onClick={() => onPageChange(currentPage - 1)}\n        disabled={currentPage === 1}\n      >\n        &lt;\n      </button>\n      <div className={s.pagesSet}>\n        {getPageNumbers().map(page => (\n          <button\n            key={page}\n            onClick={() => onPageChange(page)}\n            className={currentPage === page ? s.active : s.pageBox}\n          >\n            {page}\n          </button>\n        ))}\n      </div>\n      <button\n        className={`${s.btnRight} ${s.pageBox}`}\n        onClick={() => onPageChange(currentPage + 1)}\n        disabled={currentPage === totalPages}\n      >\n        &gt;\n      </button>\n    </div>\n  );\n};\n\nexport default Pagination;\n","// extracted by mini-css-extract-plugin\nexport default {\"appointmentsList__titleContent\":\"AppointmentsList_appointmentsList__titleContent__LQZGK\",\"appointmentsList__itemMainText\":\"AppointmentsList_appointmentsList__itemMainText__s84ot\",\"appointmentsList__item\":\"AppointmentsList_appointmentsList__item__XW4lU\",\"appointmentsList__itemPartClient\":\"AppointmentsList_appointmentsList__itemPartClient__HWnXp\",\"appointmentsList__itemPartUser\":\"AppointmentsList_appointmentsList__itemPartUser__73oJb\",\"appointmentsList__textarea\":\"AppointmentsList_appointmentsList__textarea__V47rL\",\"appointmentsList__btnWrapper\":\"AppointmentsList_appointmentsList__btnWrapper__VJ2pa\",\"appointmentsList__itemQuestion\":\"AppointmentsList_appointmentsList__itemQuestion__RGHuX\",\"appointmentsList__authorTextPart\":\"AppointmentsList_appointmentsList__authorTextPart__xTplU\",\"appointmentsList__authorText\":\"AppointmentsList_appointmentsList__authorText__dXbUg\",\"appointmentsList__title\":\"AppointmentsList_appointmentsList__title__P4bne\",\"appointmentsList__text\":\"AppointmentsList_appointmentsList__text__J0RWD\",\"appointmentsList__textEmpty\":\"AppointmentsList_appointmentsList__textEmpty__0bOAz\"};","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getAppointmentsData,\n  deleteAppointment,\n  editAppointment,\n} from '../../../../redux/technical/technical-operations';\nimport {\n  getTotalPages,\n  getAppointments,\n  getErrorTechnical,\n  getMessageTechnical,\n} from '../../../../redux/technical/technical-selectors';\nimport { getUser } from '../../../../redux/auth/auth-selectors';\nimport Pagination from 'components/Shared/Pagination/Pagination';\nimport Button from 'components/Shared/Button';\n\nimport s from './AppointmentsList.module.scss';\n\nconst AppointmentsList = () => {\n  const dispatch = useDispatch();\n  const [activePage, setActivePage] = useState(1);\n  const totalPages = useSelector(getTotalPages);\n  const appointments = useSelector(getAppointments);\n  const [comments, setComments] = useState({});\n  const isError = useSelector(getErrorTechnical);\n  const isMessage = useSelector(getMessageTechnical);\n  const user = useSelector(getUser);\n\n  useEffect(() => {\n    if (isError || isMessage) {\n      return;\n    } else {\n      dispatch(getAppointmentsData(activePage));\n    }\n  }, [dispatch, activePage, isError, isMessage]);\n\n  useEffect(() => {\n    const initialComments = {};\n    appointments.forEach(appointment => {\n      initialComments[appointment._id] = appointment.addComment || '';\n    });\n    setComments(initialComments);\n  }, [appointments]);\n\n  useEffect(() => {\n    const scrollToTop = () => {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    };\n    scrollToTop();\n  }, [activePage]);\n\n  const handlePageChange = page => {\n    setActivePage(page);\n  };\n\n  const handleCommentChange = (id, comment) => {\n    setComments({\n      ...comments,\n      [id]: comment,\n    });\n  };\n\n  const handleCommentSubmit = id => {\n    dispatch(\n      editAppointment({\n        id: id,\n        comment: comments[id],\n        commentAuthor: user.username,\n      })\n    );\n  };\n\n  const handleDelete = id => {\n    dispatch(deleteAppointment(id));\n  };\n\n  return (\n    <section className={s.appointmentsList}>\n      <div className=\"container\">\n        <div className={s.appointmentsList__contant}>\n          <div className={s.appointmentsList__titleContent}>\n            <h2 className={s.appointmentsList__title}>\n              Список користувачів записаних на зустріч:\n            </h2>\n          </div>\n          {appointments.lenght !== 0 && (\n            <ul className={s.appointmentsList__list}>\n              {appointments.map(appointment => (\n                <li key={appointment._id} className={s.appointmentsList__item}>\n                  <div className={s.appointmentsList__itemPartClient}>\n                    <p>\n                      <span className={s.appointmentsList__itemMainText}>\n                        Дата створення:{' '}\n                      </span>\n                      {new Date(appointment.dateCreated).toLocaleString()}\n                    </p>\n                    <p>\n                      <span className={s.appointmentsList__itemMainText}>\n                        Ім'я користувача:{' '}\n                      </span>\n                      {appointment.parentName}\n                    </p>\n                    <p>\n                      <span className={s.appointmentsList__itemMainText}>\n                        Ім'я дитини:{' '}\n                      </span>\n                      {appointment.childrenName}\n                    </p>\n                    <p>\n                      <span className={s.appointmentsList__itemMainText}>\n                        Телефон:{' '}\n                      </span>\n                      <a href={`tel:${appointment.phone}`}>\n                        {appointment.phone}\n                      </a>\n                    </p>\n                    {appointment.question && (\n                      <p className={s.appointmentsList__itemQuestion}>\n                        <span className={s.appointmentsList__itemMainText}>\n                          Питання користувача:{' '}\n                        </span>\n                        <br />\n                        {appointment.question}\n                      </p>\n                    )}\n                    {appointment.fromPage && (\n                      <p className={s.appointmentsList__itemQuestion}>\n                        <span className={s.appointmentsList__itemMainText}>\n                          Запис відбувся зі сторінки:{' '}\n                        </span>\n                        <br />\n                        {appointment.fromPage}\n                      </p>\n                    )}\n                  </div>\n                  <div className={s.appointmentsList__itemPartUser}>\n                    <textarea\n                      className={s.appointmentsList__textarea}\n                      value={comments[appointment._id] || ''}\n                      onChange={e =>\n                        handleCommentChange(appointment._id, e.target.value)\n                      }\n                      placeholder=\"Коментар від Middleway\"\n                      rows=\"5\"\n                    />\n                    {appointment.addCommentAuthor && (\n                      <div className={s.appointmentsList__authorTextPart}>\n                        <p className={s.appointmentsList__authorText}>\n                          Коментар додано: {appointment.addCommentAuthor}\n                        </p>\n                      </div>\n                    )}\n                    <div className={s.appointmentsList__btnWrapper}>\n                      <Button\n                        text={'Зберегти коментар'}\n                        btnClass=\"btnLight\"\n                        handleClick={() => handleCommentSubmit(appointment._id)}\n                      />\n                      <Button\n                        text={'Видалити Зустріч'}\n                        btnClass=\"btnLight\"\n                        handleClick={() => handleDelete(appointment._id)}\n                      />\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n          {appointments.lenght === 0 && (\n            <p className={s.appointmentsList__textEmpty}>\n              У вас не має записів на зустріч.\n            </p>\n          )}\n          <Pagination\n            totalPages={totalPages}\n            currentPage={activePage}\n            onPageChange={handlePageChange}\n          />\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default AppointmentsList;\n","// extracted by mini-css-extract-plugin\nexport default {\"appointments\":\"AppointmentsPage_appointments__1SVX5\"};","import AppointmentsList from './AppointmentsList';\n\nimport s from './AppointmentsPage.module.scss';\n\nconst AppointmentsPage = () => {\n  return (\n    <section className={s.appointments}>\n      <AppointmentsList />\n    </section>\n  );\n};\n\nexport default AppointmentsPage;\n"],"names":["_ref","totalPages","currentPage","onPageChange","_jsxs","className","s","children","_jsx","concat","onClick","disabled","getPageNumbers","pageNumbers","startPage","Math","max","endPage","min","displayRange","page","push","map","AppointmentsList","dispatch","useDispatch","activePage","setActivePage","useState","useSelector","getTotalPages","appointments","getAppointments","comments","setComments","isError","getErrorTechnical","isMessage","getMessageTechnical","user","getUser","useEffect","getAppointmentsData","initialComments","forEach","appointment","_id","addComment","window","scrollTo","top","behavior","appointmentsList","appointmentsList__contant","appointmentsList__titleContent","appointmentsList__title","lenght","appointmentsList__list","appointmentsList__item","appointmentsList__itemPartClient","appointmentsList__itemMainText","Date","dateCreated","toLocaleString","parentName","childrenName","href","phone","question","appointmentsList__itemQuestion","fromPage","appointmentsList__itemPartUser","appointmentsList__textarea","value","onChange","e","handleCommentChange","id","comment","target","placeholder","rows","addCommentAuthor","appointmentsList__authorTextPart","appointmentsList__authorText","appointmentsList__btnWrapper","Button","text","btnClass","handleClick","handleCommentSubmit","editAppointment","commentAuthor","username","handleDelete","deleteAppointment","appointmentsList__textEmpty","Pagination","AppointmentsPage"],"sourceRoot":""}